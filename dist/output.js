(()=>{class t{constructor(t,s,a){this.suit=t,this.rank=s,this.imageUrl=a}}class s{constructor(t){this.cards=[],this.sum=0,this.playing=!1,this.cardEl=document.getElementById(t),this.blackjack=!1,this.aceCount=0}drawCard(){if(this.playing){let t=l.dealCard();this.cards.push(t),"A"===t.rank&&(this.aceCount+=1),this.sum=this.sumCards(),this.cardEl.innerHTML+=`<img class="card-image" src="${t.imageUrl}" alt="${t.rank+t.suit}">`}}drawCardOne(){if(this.playing){let s=new t("S","A","./cards/AS.svg");this.cards.push(s),"A"===s.rank&&(this.aceCount+=1),this.sum=this.sumCards(),this.cardEl.innerHTML+=`<img class="card-image" src="${s.imageUrl}" alt="${s.rank+s.suit}">`}}drawCardTwo(){if(this.playing){let s=new t("S","K","./cards/KS.svg");this.cards.push(s),"A"===s.rank&&(this.aceCount+=1),this.sum=this.sumCards(),this.cardEl.innerHTML+=`<img class="card-image" src="${s.imageUrl}" alt="${s.rank+s.suit}">`}}hit(){if(this.playing){let t=l.dealCard();this.cards.push(t),"A"===t.rank&&(this.aceCount+=1),this.sum=this.sumCards(),this.cardEl.innerHTML+=`<img class="card-image" src="${t.imageUrl}" alt="${t.rank+t.suit}">`,21===this.sum?h():this.sum>21&&(this.playing=!1,h())}}stay(){this.playing&&(console.log(a.name+" stays at "+this.sum),h())}sumCards(){let t=0;for(let s=0;s<this.cards.length;s++)["1","2","3","4","5","6","7","8","9","10"].includes(this.cards[s].rank)?t+=parseInt(this.cards[s].rank):["J","Q","K"].includes(this.cards[s].rank)?t+=10:t+=11;if(this.aceCount>0&&t>21){let s=this.aceCount;for(;t>21&&s>0;)t-=10,s-=1}return t}reset(){this.cards=[],this.sum=0,this.playing=!1,this.blackjack=!1,this.playing=!0,this.aceCount=0}}let a={name:"Player",cash:100,bet:0},e=document.getElementById("player-el");e.textContent=a.name+": $"+a.cash;let r=document.getElementById("message-el"),i=document.getElementById("start-el");const n=new s("player-hand"),c=new s("dealer-hand"),l=new class{constructor(){this.cards=[],this.createDeck()}createDeck(){const s=["C","D","H","S"],a=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];for(const e of s)for(const s of a){let a=new t(e,s,"./cards/"+s+e+".svg");this.cards.push(a)}}shuffle(){for(let t=0;t<this.cards.length;t++){let s=this.cards[t],a=Math.floor(Math.random()*this.cards.length);this.cards[t]=this.cards[a],this.cards[a]=s}}dealCard(){return this.cards.pop()}};function h(){for(n.playing=!1;c.sum<=16;)c.drawCard();c.cardEl.innerHTML="Dealer's cards: ";for(const t of c.cards)c.cardEl.innerHTML+=`<img class="card-image" src="${t.imageUrl}" alt="${t.rank+t.suit}">`;n.sum<=21?c.sum>21?r.textContent="Dealer busts. You win!":n.sum>c.sum?r.textContent="You win!":c.sum>n.sum?r.textContent="You lose":r.textContent="Draw":r.textContent="Bust - You lose",(n.sum>c.sum||c.sum>21)&&n.sum<=21?n.blackjack?(a.cash+=2*parseFloat(a.bet),r.textContent+=" Win:"+2*a.bet):(a.cash+=parseFloat(a.bet),r.textContent+=" Win:"+a.bet):n.sum===c.sum?r.textContent+=". Bet returned":(a.cash-=parseFloat(a.bet),r.textContent+=" $"+a.bet),e.textContent=a.name+": $"+a.cash,i.disabled=!1}l.shuffle(),module.exports={}})();
//# sourceMappingURL=output.js.map